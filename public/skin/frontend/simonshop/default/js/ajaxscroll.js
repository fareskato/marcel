!function(t){t.mdl=function(e){function n(){return m.onChangePage(function(t,e,n){w&&w.setPage(t,n),g.onPageChange.call(this,t,n,e)}),i(),w&&w.havePage()&&(a(),pageNum=w.getPage(),p.forceScrollTop(function(){pageNum>1?(s(pageNum),curTreshold=l(!0),t("html,body").scrollTop(curTreshold)):i()})),P}function i(){r(),t(window).scroll(o)}function o(){scrTop=t(window).scrollTop(),wndHeight=t(window).height(),curScrOffset=scrTop+wndHeight,curScrOffset>=l()&&c(curScrOffset)}function a(){t(window).unbind("scroll",o)}function r(){t(g.pagination).hide()}function l(e){return el=t(g.container).find(g.item).last(),0==el.size()?0:(treshold=el.offset().top+el.height(),e||(treshold+=g.tresholdMargin),treshold)}function c(e,n){return urlNextPage=t(g.next).attr("href"),urlNextPage?(m.pushPages(e,urlNextPage),a(),d(),void u(urlNextPage,function(e,o){result=g.onLoadItems.call(this,o),result!==!1&&(t(o).hide(),curLastItem=t(g.container).find(g.item).last(),curLastItem.after(o),t(o).fadeIn()),t(g.pagination).replaceWith(t(g.pagination,e)),f(),i(),g.onRenderComplete.call(this,o),n&&n.call(this)})):a()}function u(e,n){var i=[];t.get(e,null,function(e){t(g.container,e).find(g.item).each(function(){i.push(this)}),n&&n.call(this,e,i)},"html")}function s(e){curTreshold=l(!0),curTreshold>0&&c(curTreshold,function(){a(),m.getCurPageNum(curTreshold)+1<e?(s(e),t("html,body").animate({scrollTop:curTreshold},400,"swing")):(t("html,body").animate({scrollTop:curTreshold},1e3,"swing"),i())})}function h(){return loader=t(".loderPan"),0==loader.size()&&(loader=t("<div class='loderPan'>"+g.loader+"</div>"),loader.hide()),loader}function d(){loader=h(),el=t(g.container).find(g.item).last(),el.after(loader),loader.fadeIn()}function f(){loader=h(),loader.remove()}var g=t.extend({},t.mdl.defaults,e),p=new t.mdl.util,m=new t.mdl.paging,w=g.history?new t.mdl.history:!1,P=this;n()},t.mdl.defaults={container:"#container",item:".item",pagination:"#pagination",next:".next",loader:'<img src="images/loader.gif"/>',tresholdMargin:0,history:!1,onPageChange:function(){},onLoadItems:function(){},onRenderComplete:function(){}},t.mdl.util=function(){function e(){t(window).load(function(){n=!0})}var n=!1,i=!1,o=this;e(),this.forceScrollTop=function(e){t("html,body").scrollTop(0),i||(n?(e.call(),i=!0):setTimeout(function(){o.forceScrollTop(e)},1))}},t.mdl.paging=function(){function e(){t(window).scroll(n)}function n(){scrTop=t(window).scrollTop(),wndHeight=t(window).height(),curScrOffset=scrTop+wndHeight,curPageNum=o(curScrOffset),curPagebreak=a(curScrOffset),c!=curPageNum&&l.call(this,curPageNum,curPagebreak[0],curPagebreak[1]),c=curPageNum}function o(t){for(i=r.length-1;i>0;i--)if(t>r[i][0])return i+1;return 1}function a(t){for(i=r.length-1;i>=0;i--)if(t>r[i][0])return r[i];return null}var r=[[0,document.location.toString()]],l=function(){},c=1;e(),this.getCurPageNum=function(t){return o(t)},this.onChangePage=function(t){l=t},this.pushPages=function(t,e){r.push([t,e])}},t.mdl.history=function(){function t(){n=!!(window.history&&history.pushState&&history.replaceState),n=!1}var e=!1,n=!1;t(),this.setPage=function(t,e){this.updateState({page:t},"",e)},this.havePage=function(){return 0!=this.getState()},this.getPage=function(){return this.havePage()?(stateObj=this.getState(),stateObj.page):1},this.getState=function(){if(n){if(stateObj=history.state,stateObj&&stateObj.mdl)return stateObj.mdl}else if(haveState="#/page/"==window.location.hash.substring(0,7),haveState)return pageNum=parseInt(window.location.hash.replace("#/page/","")),{page:pageNum};return!1},this.updateState=function(t,n,i){e?this.replaceState(t,n,i):this.pushState(t,n,i)},this.pushState=function(t,i,o){n?history.pushState({mdl:t},i,o):(hash=t.page>0?"#/page/"+t.page:"",window.location.hash=hash),e=!0},this.replaceState=function(t,e,i){n?history.replaceState({mdl:t},e,i):this.pushState(t,e,i)}},jQuery(document).ready(function(){jQuery.mdl({container:".category-products",item:vMode,pagination:".toolbar .pager",next:"a.next",loader:'<div style="display:inline-block; font-size:45px; width:100%; text-align:center;"><i class="fa fa-circle-o-notch fa-spin"></i></div>',onRenderComplete:function(){jQuery(function(){jQuery("img.lazy").lazyload({placeholder:!1,effect:"show"})})}})})}(jQuery),jQuery.noConflict();